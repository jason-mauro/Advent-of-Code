import javax.print.attribute.IntegerSyntax;
import java.util.*;

public class Day5 {





    public static void main(String[] args) {
        HashMap<Integer, ArrayList<Integer>> orders = new HashMap<>();
        String orderings = "66|19\n" +
                "99|87\n" +
                "99|55\n" +
                "49|28\n" +
                "49|64\n" +
                "49|81\n" +
                "43|81\n" +
                "43|55\n" +
                "43|13\n" +
                "43|39\n" +
                "18|34\n" +
                "18|51\n" +
                "18|66\n" +
                "18|53\n" +
                "18|65\n" +
                "83|87\n" +
                "83|74\n" +
                "83|56\n" +
                "83|26\n" +
                "83|17\n" +
                "83|47\n" +
                "84|64\n" +
                "84|81\n" +
                "84|43\n" +
                "84|61\n" +
                "84|57\n" +
                "84|66\n" +
                "84|12\n" +
                "74|14\n" +
                "74|88\n" +
                "74|64\n" +
                "74|66\n" +
                "74|15\n" +
                "74|99\n" +
                "74|49\n" +
                "74|52\n" +
                "87|26\n" +
                "87|38\n" +
                "87|57\n" +
                "87|18\n" +
                "87|84\n" +
                "87|43\n" +
                "87|28\n" +
                "87|65\n" +
                "87|22\n" +
                "64|45\n" +
                "64|14\n" +
                "64|77\n" +
                "64|55\n" +
                "64|94\n" +
                "64|29\n" +
                "64|56\n" +
                "64|26\n" +
                "64|25\n" +
                "64|22\n" +
                "88|37\n" +
                "88|77\n" +
                "88|55\n" +
                "88|76\n" +
                "88|64\n" +
                "88|35\n" +
                "88|57\n" +
                "88|99\n" +
                "88|43\n" +
                "88|13\n" +
                "88|19\n" +
                "19|56\n" +
                "19|76\n" +
                "19|37\n" +
                "19|14\n" +
                "19|99\n" +
                "19|64\n" +
                "19|83\n" +
                "19|43\n" +
                "19|24\n" +
                "19|15\n" +
                "19|35\n" +
                "19|77\n" +
                "48|58\n" +
                "48|39\n" +
                "48|15\n" +
                "48|81\n" +
                "48|75\n" +
                "48|29\n" +
                "48|13\n" +
                "48|35\n" +
                "48|45\n" +
                "48|12\n" +
                "48|61\n" +
                "48|14\n" +
                "48|37\n" +
                "53|14\n" +
                "53|42\n" +
                "53|15\n" +
                "53|83\n" +
                "53|25\n" +
                "53|12\n" +
                "53|77\n" +
                "53|58\n" +
                "53|76\n" +
                "53|48\n" +
                "53|39\n" +
                "53|37\n" +
                "53|56\n" +
                "53|55\n" +
                "29|62\n" +
                "29|97\n" +
                "29|88\n" +
                "29|65\n" +
                "29|17\n" +
                "29|52\n" +
                "29|42\n" +
                "29|38\n" +
                "29|51\n" +
                "29|28\n" +
                "29|22\n" +
                "29|47\n" +
                "29|87\n" +
                "29|84\n" +
                "29|45\n" +
                "14|24\n" +
                "14|62\n" +
                "14|87\n" +
                "14|56\n" +
                "14|65\n" +
                "14|47\n" +
                "14|45\n" +
                "14|18\n" +
                "14|42\n" +
                "14|75\n" +
                "14|17\n" +
                "14|92\n" +
                "14|58\n" +
                "14|84\n" +
                "14|25\n" +
                "14|83\n" +
                "77|13\n" +
                "77|17\n" +
                "77|22\n" +
                "77|38\n" +
                "77|94\n" +
                "77|58\n" +
                "77|75\n" +
                "77|24\n" +
                "77|49\n" +
                "77|92\n" +
                "77|83\n" +
                "77|84\n" +
                "77|87\n" +
                "77|56\n" +
                "77|18\n" +
                "77|47\n" +
                "77|45\n" +
                "45|74\n" +
                "45|26\n" +
                "45|97\n" +
                "45|18\n" +
                "45|75\n" +
                "45|57\n" +
                "45|38\n" +
                "45|49\n" +
                "45|19\n" +
                "45|51\n" +
                "45|94\n" +
                "45|62\n" +
                "45|28\n" +
                "45|92\n" +
                "45|34\n" +
                "45|88\n" +
                "45|87\n" +
                "45|84\n" +
                "24|26\n" +
                "24|88\n" +
                "24|42\n" +
                "24|22\n" +
                "24|65\n" +
                "24|34\n" +
                "24|17\n" +
                "24|62\n" +
                "24|97\n" +
                "24|94\n" +
                "24|47\n" +
                "24|28\n" +
                "24|52\n" +
                "24|49\n" +
                "24|38\n" +
                "24|29\n" +
                "24|84\n" +
                "24|18\n" +
                "24|75\n" +
                "35|25\n" +
                "35|38\n" +
                "35|14\n" +
                "35|18\n" +
                "35|26\n" +
                "35|87\n" +
                "35|97\n" +
                "35|24\n" +
                "35|22\n" +
                "35|58\n" +
                "35|65\n" +
                "35|94\n" +
                "35|29\n" +
                "35|47\n" +
                "35|56\n" +
                "35|76\n" +
                "35|45\n" +
                "35|37\n" +
                "35|62\n" +
                "35|77\n" +
                "62|48\n" +
                "62|88\n" +
                "62|81\n" +
                "62|49\n" +
                "62|97\n" +
                "62|15\n" +
                "62|99\n" +
                "62|51\n" +
                "62|84\n" +
                "62|53\n" +
                "62|61\n" +
                "62|65\n" +
                "62|34\n" +
                "62|66\n" +
                "62|64\n" +
                "62|28\n" +
                "62|92\n" +
                "62|74\n" +
                "62|38\n" +
                "62|57\n" +
                "62|19\n" +
                "39|25\n" +
                "39|22\n" +
                "39|13\n" +
                "39|62\n" +
                "39|35\n" +
                "39|24\n" +
                "39|58\n" +
                "39|56\n" +
                "39|14\n" +
                "39|94\n" +
                "39|87\n" +
                "39|77\n" +
                "39|47\n" +
                "39|26\n" +
                "39|18\n" +
                "39|76\n" +
                "39|83\n" +
                "39|42\n" +
                "39|75\n" +
                "39|97\n" +
                "39|29\n" +
                "39|37\n" +
                "92|43\n" +
                "92|28\n" +
                "92|55\n" +
                "92|99\n" +
                "92|49\n" +
                "92|81\n" +
                "92|34\n" +
                "92|19\n" +
                "92|88\n" +
                "92|66\n" +
                "92|15\n" +
                "92|39\n" +
                "92|51\n" +
                "92|17\n" +
                "92|48\n" +
                "92|57\n" +
                "92|74\n" +
                "92|84\n" +
                "92|61\n" +
                "92|64\n" +
                "92|52\n" +
                "92|35\n" +
                "92|12\n" +
                "81|29\n" +
                "81|55\n" +
                "81|58\n" +
                "81|25\n" +
                "81|39\n" +
                "81|35\n" +
                "81|76\n" +
                "81|77\n" +
                "81|56\n" +
                "81|12\n" +
                "81|24\n" +
                "81|83\n" +
                "81|22\n" +
                "81|64\n" +
                "81|13\n" +
                "81|75\n" +
                "81|45\n" +
                "81|15\n" +
                "81|99\n" +
                "81|47\n" +
                "81|37\n" +
                "81|87\n" +
                "81|42\n" +
                "81|14\n" +
                "15|77\n" +
                "15|22\n" +
                "15|94\n" +
                "15|56\n" +
                "15|47\n" +
                "15|76\n" +
                "15|24\n" +
                "15|83\n" +
                "15|75\n" +
                "15|18\n" +
                "15|14\n" +
                "15|29\n" +
                "15|58\n" +
                "15|12\n" +
                "15|13\n" +
                "15|64\n" +
                "15|39\n" +
                "15|45\n" +
                "15|87\n" +
                "15|37\n" +
                "15|35\n" +
                "15|25\n" +
                "15|55\n" +
                "15|42\n" +
                "28|88\n" +
                "28|35\n" +
                "28|53\n" +
                "28|57\n" +
                "28|76\n" +
                "28|12\n" +
                "28|81\n" +
                "28|77\n" +
                "28|14\n" +
                "28|19\n" +
                "28|48\n" +
                "28|39\n" +
                "28|61\n" +
                "28|99\n" +
                "28|83\n" +
                "28|66\n" +
                "28|55\n" +
                "28|34\n" +
                "28|51\n" +
                "28|43\n" +
                "28|15\n" +
                "28|37\n" +
                "28|64\n" +
                "28|25\n" +
                "37|42\n" +
                "37|26\n" +
                "37|77\n" +
                "37|47\n" +
                "37|92\n" +
                "37|62\n" +
                "37|22\n" +
                "37|45\n" +
                "37|94\n" +
                "37|25\n" +
                "37|56\n" +
                "37|24\n" +
                "37|58\n" +
                "37|14\n" +
                "37|18\n" +
                "37|87\n" +
                "37|38\n" +
                "37|17\n" +
                "37|13\n" +
                "37|75\n" +
                "37|83\n" +
                "37|97\n" +
                "37|65\n" +
                "37|29\n" +
                "38|12\n" +
                "38|57\n" +
                "38|81\n" +
                "38|43\n" +
                "38|34\n" +
                "38|61\n" +
                "38|17\n" +
                "38|28\n" +
                "38|49\n" +
                "38|55\n" +
                "38|88\n" +
                "38|51\n" +
                "38|53\n" +
                "38|39\n" +
                "38|92\n" +
                "38|15\n" +
                "38|84\n" +
                "38|19\n" +
                "38|64\n" +
                "38|52\n" +
                "38|48\n" +
                "38|99\n" +
                "38|74\n" +
                "38|66\n" +
                "56|17\n" +
                "56|38\n" +
                "56|13\n" +
                "56|22\n" +
                "56|87\n" +
                "56|65\n" +
                "56|42\n" +
                "56|74\n" +
                "56|75\n" +
                "56|49\n" +
                "56|94\n" +
                "56|84\n" +
                "56|28\n" +
                "56|26\n" +
                "56|62\n" +
                "56|52\n" +
                "56|92\n" +
                "56|18\n" +
                "56|24\n" +
                "56|97\n" +
                "56|29\n" +
                "56|45\n" +
                "56|47\n" +
                "56|58\n" +
                "25|77\n" +
                "25|29\n" +
                "25|62\n" +
                "25|58\n" +
                "25|47\n" +
                "25|56\n" +
                "25|42\n" +
                "25|87\n" +
                "25|65\n" +
                "25|75\n" +
                "25|92\n" +
                "25|97\n" +
                "25|13\n" +
                "25|83\n" +
                "25|84\n" +
                "25|94\n" +
                "25|38\n" +
                "25|24\n" +
                "25|74\n" +
                "25|22\n" +
                "25|26\n" +
                "25|45\n" +
                "25|17\n" +
                "25|18\n" +
                "47|18\n" +
                "47|62\n" +
                "47|51\n" +
                "47|28\n" +
                "47|52\n" +
                "47|97\n" +
                "47|88\n" +
                "47|22\n" +
                "47|49\n" +
                "47|43\n" +
                "47|92\n" +
                "47|26\n" +
                "47|17\n" +
                "47|19\n" +
                "47|74\n" +
                "47|66\n" +
                "47|87\n" +
                "47|53\n" +
                "47|38\n" +
                "47|84\n" +
                "47|94\n" +
                "47|57\n" +
                "47|34\n" +
                "47|65\n" +
                "55|62\n" +
                "55|42\n" +
                "55|87\n" +
                "55|18\n" +
                "55|22\n" +
                "55|24\n" +
                "55|76\n" +
                "55|75\n" +
                "55|58\n" +
                "55|35\n" +
                "55|94\n" +
                "55|39\n" +
                "55|12\n" +
                "55|14\n" +
                "55|13\n" +
                "55|47\n" +
                "55|29\n" +
                "55|37\n" +
                "55|45\n" +
                "55|56\n" +
                "55|26\n" +
                "55|77\n" +
                "55|25\n" +
                "55|83\n" +
                "17|74\n" +
                "17|43\n" +
                "17|84\n" +
                "17|28\n" +
                "17|15\n" +
                "17|51\n" +
                "17|35\n" +
                "17|57\n" +
                "17|52\n" +
                "17|12\n" +
                "17|39\n" +
                "17|99\n" +
                "17|66\n" +
                "17|88\n" +
                "17|49\n" +
                "17|48\n" +
                "17|55\n" +
                "17|64\n" +
                "17|61\n" +
                "17|81\n" +
                "17|76\n" +
                "17|34\n" +
                "17|19\n" +
                "17|53\n" +
                "12|42\n" +
                "12|37\n" +
                "12|75\n" +
                "12|47\n" +
                "12|14\n" +
                "12|18\n" +
                "12|25\n" +
                "12|35\n" +
                "12|13\n" +
                "12|22\n" +
                "12|83\n" +
                "12|45\n" +
                "12|56\n" +
                "12|76\n" +
                "12|26\n" +
                "12|87\n" +
                "12|29\n" +
                "12|65\n" +
                "12|24\n" +
                "12|94\n" +
                "12|62\n" +
                "12|58\n" +
                "12|77\n" +
                "12|97\n" +
                "52|25\n" +
                "52|35\n" +
                "52|64\n" +
                "52|77\n" +
                "52|53\n" +
                "52|28\n" +
                "52|57\n" +
                "52|61\n" +
                "52|14\n" +
                "52|66\n" +
                "52|55\n" +
                "52|81\n" +
                "52|37\n" +
                "52|99\n" +
                "52|12\n" +
                "52|34\n" +
                "52|88\n" +
                "52|76\n" +
                "52|19\n" +
                "52|43\n" +
                "52|48\n" +
                "52|51\n" +
                "52|39\n" +
                "52|15\n" +
                "61|12\n" +
                "61|87\n" +
                "61|24\n" +
                "61|81\n" +
                "61|25\n" +
                "61|77\n" +
                "61|45\n" +
                "61|15\n" +
                "61|83\n" +
                "61|47\n" +
                "61|37\n" +
                "61|56\n" +
                "61|39\n" +
                "61|13\n" +
                "61|14\n" +
                "61|75\n" +
                "61|58\n" +
                "61|29\n" +
                "61|76\n" +
                "61|55\n" +
                "61|64\n" +
                "61|99\n" +
                "61|35\n" +
                "61|42\n" +
                "76|38\n" +
                "76|45\n" +
                "76|94\n" +
                "76|97\n" +
                "76|14\n" +
                "76|83\n" +
                "76|13\n" +
                "76|24\n" +
                "76|18\n" +
                "76|56\n" +
                "76|22\n" +
                "76|26\n" +
                "76|42\n" +
                "76|65\n" +
                "76|75\n" +
                "76|37\n" +
                "76|25\n" +
                "76|58\n" +
                "76|87\n" +
                "76|47\n" +
                "76|77\n" +
                "76|92\n" +
                "76|29\n" +
                "76|62\n" +
                "94|84\n" +
                "94|28\n" +
                "94|57\n" +
                "94|66\n" +
                "94|26\n" +
                "94|81\n" +
                "94|99\n" +
                "94|88\n" +
                "94|38\n" +
                "94|74\n" +
                "94|62\n" +
                "94|97\n" +
                "94|34\n" +
                "94|19\n" +
                "94|51\n" +
                "94|49\n" +
                "94|65\n" +
                "94|53\n" +
                "94|48\n" +
                "94|17\n" +
                "94|52\n" +
                "94|43\n" +
                "94|92\n" +
                "94|61\n" +
                "65|17\n" +
                "65|61\n" +
                "65|19\n" +
                "65|99\n" +
                "65|53\n" +
                "65|81\n" +
                "65|43\n" +
                "65|88\n" +
                "65|28\n" +
                "65|49\n" +
                "65|84\n" +
                "65|66\n" +
                "65|92\n" +
                "65|38\n" +
                "65|64\n" +
                "65|39\n" +
                "65|48\n" +
                "65|57\n" +
                "65|74\n" +
                "65|15\n" +
                "65|55\n" +
                "65|52\n" +
                "65|34\n" +
                "65|51\n" +
                "57|66\n" +
                "57|24\n" +
                "57|55\n" +
                "57|19\n" +
                "57|25\n" +
                "57|15\n" +
                "57|14\n" +
                "57|35\n" +
                "57|48\n" +
                "57|77\n" +
                "57|81\n" +
                "57|61\n" +
                "57|43\n" +
                "57|64\n" +
                "57|56\n" +
                "57|76\n" +
                "57|58\n" +
                "57|99\n" +
                "57|12\n" +
                "57|39\n" +
                "57|83\n" +
                "57|53\n" +
                "57|37\n" +
                "57|13\n" +
                "51|66\n" +
                "51|55\n" +
                "51|25\n" +
                "51|53\n" +
                "51|48\n" +
                "51|81\n" +
                "51|12\n" +
                "51|99\n" +
                "51|39\n" +
                "51|43\n" +
                "51|61\n" +
                "51|76\n" +
                "51|57\n" +
                "51|14\n" +
                "51|37\n" +
                "51|77\n" +
                "51|35\n" +
                "51|15\n" +
                "51|64\n" +
                "51|19\n" +
                "51|56\n" +
                "51|34\n" +
                "51|83\n" +
                "51|88\n" +
                "42|18\n" +
                "42|51\n" +
                "42|66\n" +
                "42|28\n" +
                "42|17\n" +
                "42|84\n" +
                "42|26\n" +
                "42|45\n" +
                "42|49\n" +
                "42|38\n" +
                "42|87\n" +
                "42|74\n" +
                "42|75\n" +
                "42|88\n" +
                "42|94\n" +
                "42|52\n" +
                "42|97\n" +
                "42|22\n" +
                "42|62\n" +
                "42|65\n" +
                "42|47\n" +
                "42|92\n" +
                "42|57\n" +
                "42|34\n" +
                "97|66\n" +
                "97|15\n" +
                "97|28\n" +
                "97|49\n" +
                "97|52\n" +
                "97|17\n" +
                "97|81\n" +
                "97|84\n" +
                "97|38\n" +
                "97|61\n" +
                "97|43\n" +
                "97|65\n" +
                "97|99\n" +
                "97|48\n" +
                "97|55\n" +
                "97|34\n" +
                "97|19\n" +
                "97|57\n" +
                "97|88\n" +
                "97|74\n" +
                "97|64\n" +
                "97|51\n" +
                "97|53\n" +
                "97|92\n" +
                "34|43\n" +
                "34|76\n" +
                "34|39\n" +
                "34|35\n" +
                "34|53\n" +
                "34|55\n" +
                "34|37\n" +
                "34|57\n" +
                "34|66\n" +
                "34|77\n" +
                "34|58\n" +
                "34|61\n" +
                "34|13\n" +
                "34|48\n" +
                "34|83\n" +
                "34|14\n" +
                "34|25\n" +
                "34|15\n" +
                "34|99\n" +
                "34|56\n" +
                "34|19\n" +
                "34|12\n" +
                "34|64\n" +
                "34|81\n" +
                "75|22\n" +
                "75|88\n" +
                "75|28\n" +
                "75|66\n" +
                "75|74\n" +
                "75|65\n" +
                "75|51\n" +
                "75|62\n" +
                "75|94\n" +
                "75|97\n" +
                "75|52\n" +
                "75|57\n" +
                "75|49\n" +
                "75|18\n" +
                "75|19\n" +
                "75|92\n" +
                "75|38\n" +
                "75|17\n" +
                "75|26\n" +
                "75|87\n" +
                "75|47\n" +
                "75|34\n" +
                "75|43\n" +
                "75|84\n" +
                "22|57\n" +
                "22|28\n" +
                "22|88\n" +
                "22|18\n" +
                "22|17\n" +
                "22|92\n" +
                "22|52\n" +
                "22|19\n" +
                "22|26\n" +
                "22|62\n" +
                "22|53\n" +
                "22|61\n" +
                "22|65\n" +
                "22|38\n" +
                "22|51\n" +
                "22|97\n" +
                "22|66\n" +
                "22|43\n" +
                "22|84\n" +
                "22|74\n" +
                "22|34\n" +
                "22|94\n" +
                "22|49\n" +
                "22|48\n" +
                "58|49\n" +
                "58|74\n" +
                "58|45\n" +
                "58|26\n" +
                "58|62\n" +
                "58|87\n" +
                "58|22\n" +
                "58|88\n" +
                "58|75\n" +
                "58|47\n" +
                "58|65\n" +
                "58|24\n" +
                "58|18\n" +
                "58|17\n" +
                "58|42\n" +
                "58|97\n" +
                "58|94\n" +
                "58|29\n" +
                "58|84\n" +
                "58|92\n" +
                "58|28\n" +
                "58|38\n" +
                "58|51\n" +
                "58|52\n" +
                "26|92\n" +
                "26|99\n" +
                "26|34\n" +
                "26|74\n" +
                "26|61\n" +
                "26|81\n" +
                "26|43\n" +
                "26|19\n" +
                "26|48\n" +
                "26|62\n" +
                "26|65\n" +
                "26|38\n" +
                "26|17\n" +
                "26|28\n" +
                "26|51\n" +
                "26|15\n" +
                "26|52\n" +
                "26|84\n" +
                "26|88\n" +
                "26|66\n" +
                "26|53\n" +
                "26|57\n" +
                "26|97\n" +
                "26|49\n" +
                "13|65\n" +
                "13|17\n" +
                "13|94\n" +
                "13|58\n" +
                "13|47\n" +
                "13|22\n" +
                "13|49\n" +
                "13|84\n" +
                "13|51\n" +
                "13|29\n" +
                "13|75\n" +
                "13|92\n" +
                "13|42\n" +
                "13|26\n" +
                "13|87\n" +
                "13|24\n" +
                "13|97\n" +
                "13|28\n" +
                "13|18\n" +
                "13|74\n" +
                "13|62\n" +
                "13|38\n" +
                "13|52\n" +
                "13|45\n" +
                "66|83\n" +
                "66|55\n" +
                "66|25\n" +
                "66|13\n" +
                "66|61\n" +
                "66|39\n" +
                "66|43\n" +
                "66|58\n" +
                "66|15\n" +
                "66|35\n" +
                "66|14\n" +
                "66|53\n" +
                "66|24\n" +
                "66|56\n" +
                "66|29\n" +
                "66|64\n" +
                "66|37\n" +
                "66|77\n" +
                "66|48\n" +
                "66|76\n" +
                "66|99\n" +
                "66|81\n" +
                "66|12\n" +
                "99|75\n" +
                "99|14\n" +
                "99|39\n" +
                "99|22\n" +
                "99|77\n" +
                "99|42\n" +
                "99|45\n" +
                "99|83\n" +
                "99|12\n" +
                "99|29\n" +
                "99|15\n" +
                "99|37\n" +
                "99|58\n" +
                "99|18\n" +
                "99|35\n" +
                "99|56\n" +
                "99|47\n" +
                "99|64\n" +
                "99|25\n" +
                "99|76\n" +
                "99|13\n" +
                "99|24\n" +
                "49|57\n" +
                "49|88\n" +
                "49|19\n" +
                "49|99\n" +
                "49|35\n" +
                "49|76\n" +
                "49|25\n" +
                "49|61\n" +
                "49|15\n" +
                "49|39\n" +
                "49|66\n" +
                "49|34\n" +
                "49|52\n" +
                "49|14\n" +
                "49|48\n" +
                "49|37\n" +
                "49|55\n" +
                "49|43\n" +
                "49|51\n" +
                "49|12\n" +
                "49|53\n" +
                "43|61\n" +
                "43|14\n" +
                "43|45\n" +
                "43|25\n" +
                "43|83\n" +
                "43|64\n" +
                "43|35\n" +
                "43|12\n" +
                "43|37\n" +
                "43|53\n" +
                "43|15\n" +
                "43|76\n" +
                "43|29\n" +
                "43|58\n" +
                "43|56\n" +
                "43|48\n" +
                "43|77\n" +
                "43|24\n" +
                "43|42\n" +
                "43|99\n" +
                "18|17\n" +
                "18|97\n" +
                "18|61\n" +
                "18|52\n" +
                "18|48\n" +
                "18|19\n" +
                "18|57\n" +
                "18|81\n" +
                "18|74\n" +
                "18|43\n" +
                "18|49\n" +
                "18|62\n" +
                "18|84\n" +
                "18|92\n" +
                "18|94\n" +
                "18|38\n" +
                "18|26\n" +
                "18|88\n" +
                "18|28\n" +
                "83|18\n" +
                "83|49\n" +
                "83|24\n" +
                "83|42\n" +
                "83|45\n" +
                "83|62\n" +
                "83|65\n" +
                "83|29\n" +
                "83|22\n" +
                "83|97\n" +
                "83|75\n" +
                "83|13\n" +
                "83|58\n" +
                "83|94\n" +
                "83|38\n" +
                "83|84\n" +
                "83|92\n" +
                "83|52\n" +
                "84|49\n" +
                "84|52\n" +
                "84|48\n" +
                "84|15\n" +
                "84|35\n" +
                "84|34\n" +
                "84|37\n" +
                "84|74\n" +
                "84|99\n" +
                "84|19\n" +
                "84|39\n" +
                "84|76\n" +
                "84|53\n" +
                "84|55\n" +
                "84|88\n" +
                "84|28\n" +
                "84|51\n" +
                "74|19\n" +
                "74|55\n" +
                "74|12\n" +
                "74|51\n" +
                "74|57\n" +
                "74|34\n" +
                "74|48\n" +
                "74|76\n" +
                "74|28\n" +
                "74|53\n" +
                "74|35\n" +
                "74|81\n" +
                "74|37\n" +
                "74|61\n" +
                "74|39\n" +
                "74|43\n" +
                "87|51\n" +
                "87|17\n" +
                "87|92\n" +
                "87|49\n" +
                "87|88\n" +
                "87|34\n" +
                "87|53\n" +
                "87|74\n" +
                "87|62\n" +
                "87|48\n" +
                "87|94\n" +
                "87|52\n" +
                "87|66\n" +
                "87|19\n" +
                "87|97\n" +
                "64|18\n" +
                "64|24\n" +
                "64|58\n" +
                "64|13\n" +
                "64|35\n" +
                "64|87\n" +
                "64|47\n" +
                "64|83\n" +
                "64|76\n" +
                "64|37\n" +
                "64|75\n" +
                "64|12\n" +
                "64|42\n" +
                "64|39\n" +
                "88|39\n" +
                "88|48\n" +
                "88|25\n" +
                "88|66\n" +
                "88|83\n" +
                "88|81\n" +
                "88|15\n" +
                "88|61\n" +
                "88|14\n" +
                "88|56\n" +
                "88|12\n" +
                "88|34\n" +
                "88|53\n" +
                "19|61\n" +
                "19|48\n" +
                "19|42\n" +
                "19|58\n" +
                "19|81\n" +
                "19|39\n" +
                "19|29\n" +
                "19|55\n" +
                "19|13\n" +
                "19|25\n" +
                "19|12\n" +
                "19|53\n" +
                "48|47\n" +
                "48|25\n" +
                "48|64\n" +
                "48|76\n" +
                "48|24\n" +
                "48|99\n" +
                "48|77\n" +
                "48|56\n" +
                "48|42\n" +
                "48|83\n" +
                "48|55\n" +
                "53|13\n" +
                "53|81\n" +
                "53|99\n" +
                "53|64\n" +
                "53|75\n" +
                "53|45\n" +
                "53|61\n" +
                "53|35\n" +
                "53|24\n" +
                "53|29\n" +
                "29|75\n" +
                "29|26\n" +
                "29|49\n" +
                "29|74\n" +
                "29|94\n" +
                "29|92\n" +
                "29|34\n" +
                "29|57\n" +
                "29|18\n" +
                "14|77\n" +
                "14|13\n" +
                "14|97\n" +
                "14|38\n" +
                "14|29\n" +
                "14|26\n" +
                "14|94\n" +
                "14|22\n" +
                "77|62\n" +
                "77|42\n" +
                "77|65\n" +
                "77|97\n" +
                "77|74\n" +
                "77|26\n" +
                "77|29\n" +
                "45|47\n" +
                "45|17\n" +
                "45|52\n" +
                "45|66\n" +
                "45|65\n" +
                "45|22\n" +
                "24|87\n" +
                "24|51\n" +
                "24|92\n" +
                "24|45\n" +
                "24|74\n" +
                "35|75\n" +
                "35|83\n" +
                "35|13\n" +
                "35|42\n" +
                "62|52\n" +
                "62|43\n" +
                "62|17\n" +
                "39|12\n" +
                "39|45\n" +
                "92|53";

        var x = new ArrayList<String>(Arrays.stream(orderings.split("\n")).toList());
        // HashMap for orderings
        for(var j : x){
            var y = j.split("[|]");
            if (!orders.containsKey(Integer.parseInt(y[0]))){
                orders.put(Integer.parseInt(y[0]), new ArrayList<>(){{this.add(Integer.parseInt(y[1]));}});
            } else {
                orders.get(Integer.parseInt(y[0])).add(Integer.parseInt(y[1]));
            }
        }



        String input = "62,65,92,74,49,52,28,88,57,61,81,99,15\n" +
                "61,99,55,39,35,76,25,77,83,13,29,45,47\n" +
                "84,97,38,34,94,65,57,81,19,66,74\n" +
                "49,52,51,88,66,19,43,53,48,61,81,99,15,55,39,12,35,76,37\n" +
                "13,58,25,62,12,37,97,29,42,87,77\n" +
                "94,75,58,38,62,29,56,26,18,97,47,49,24,42,45,22,17,13,74,84,83,65,87\n" +
                "48,64,37,13,24,42,75\n" +
                "75,22,18,94,26,62,97,65,38,92,17,84,74,49,52,51,88,34,66\n" +
                "34,66,43,53,81,64,13\n" +
                "52,28,88,61,81,15,12\n" +
                "19,53,48,64,55,99,56,34,43,77,88,76,66,25,35\n" +
                "12,35,76,37,14,25,83,56,13,58,24,29,42,45,75,47,87,22,18,94,26,62,97\n" +
                "48,81,84,28,92,34,43,66,51,57,62,97,17,65,49,19,15,88,38,52,61,99,53\n" +
                "48,58,29,53,37,25,64,76,77,55,15,83,45\n" +
                "22,24,35,45,75,87,26,77,56,14,76,12,62,37,97,18,83,58,13,94,47\n" +
                "49,52,28,51,88,57,66,19,43,53,61,81,99,15,64,55,39,12,35,76,37\n" +
                "26,97,65,38,49,52,88,48,99\n" +
                "34,57,66,19,43,53,48,61,81,99,15,64,55,39,12,35,76,37,14,25,77,83,13\n" +
                "45,75,22,84,28\n" +
                "34,76,15,49,55,84,66,19,35,64,12\n" +
                "35,76,37,14,25,77,83,56,58,24,42,45,47,87,22,18,62,97,65\n" +
                "42,76,48,29,81,45,58,99,53,61,14,83,24,35,64\n" +
                "55,61,77,53,43,83,57,48,99,15,66,56,14,25,12\n" +
                "84,49,52,51,88,34,57,19,43,48,61,99,55,35,76\n" +
                "52,28,34,57,66,53,48,61,99,55,12,35,76,37,14\n" +
                "74,49,52,28,51,88,34,57,43,53,48,81,99,64,55,12,35,76,37\n" +
                "76,65,87,83,58,38,26,77,42,25,47,13,97,24,45,18,22,29,37,56,75,62,94\n" +
                "53,99,15,12,76,25,77,29,45\n" +
                "43,53,48,61,81,99,15,64,55,39,12,35,76,37,14,25,83,56,13,58,24,29,42\n" +
                "39,14,37,64,61,58,56\n" +
                "99,65,55,88,28,48,19\n" +
                "88,38,26,99,19,66,17,49,34,43,53,61,28,65,74,92,62\n" +
                "35,39,45,12,83,56,47,42,25,75,37,81,24,76,99,87,64,14,29\n" +
                "55,81,61,43,25,88,35,48,66,12,15,14,34,52,37,99,19,64,57\n" +
                "75,47,87,22,18,94,26,62,97,65,38,92,17,84,74,49,52,28,51,88,34,57,19\n" +
                "37,14,25,77,83,56,13,24,42,45,47,87,22,18,94,26,62,97,65,38,92\n" +
                "58,45,47,18,94,26,92,17,52,28,51\n" +
                "76,37,58,24,42,45,47\n" +
                "56,13,24,29,42,47,87,22,18,94,26,62,97,65,38,92,17,84,74,49,52\n" +
                "34,88,84,66,75,19,57,94,62,47,49\n" +
                "45,75,47,87,22,18,94,26,62,97,65,38,17,84,74,49,52,28,51,88,34,57,66\n" +
                "28,84,52,49,42,26,18,38,97,75,17,94,87\n" +
                "35,99,58,61,48,37,15,19,55,64,53,81,13,56,43,39,24\n" +
                "57,19,53,99,12,37,58\n" +
                "75,25,83,14,64,12,77,39,56,45,35,81,61,99,76,13,55,47,24,58,29,42,37\n" +
                "83,14,92,62,38,42,24,75,26,97,29,94,13,37,47,18,25,45,22\n" +
                "45,75,47,87,22,18,94,26,62,65,38,92,17,84,74,49,52,28,51,88,34,57,66\n" +
                "52,64,55,17,38,92,43,53,65,51,28,74,66,88,19,81,99,84,57,48,61,15,49\n" +
                "83,56,58,24,42\n" +
                "18,94,26,62,97,65,38,92,17,84,74,49,52,28,51,88,34,57,66,19,43,53,61\n" +
                "17,74,49,28,51,88,66,53,61,99,55,12,35\n" +
                "57,66,19,43,53,48,61,64,55,39,12,76,37,14,25,77,83,13,58\n" +
                "43,58,61,39,57,14,37,77,66,81,55,48,99,12,13,64,15,53,19,56,76\n" +
                "55,39,12,76,37,14,25,77,83,56,13,58,24,29,42,45,75,47,87,22,18,94,26\n" +
                "65,92,17,84,52,28,51,88,34,66,19,43,53,48,61,81,99,64,55\n" +
                "52,28,51,88,34,57,66,19,43,53,48,61,99,15,64,55,39,12,35,37,25\n" +
                "56,42,18,65,14,45,94,22,26,58,75,47,25\n" +
                "76,37,14,25,77,56,13,58,24,29,42,45,75,87,18,94,26,62,97,65,38\n" +
                "81,97,62,17,43,28,15,51,38\n" +
                "65,17,84,74,49,52,51,34,43,48,61,81,99,15,55\n" +
                "92,74,52,66,53,81,12\n" +
                "24,45,75,47,22,94,62,97,65,92,17,74,52,51,88\n" +
                "49,52,88,34,57,66,19,53,61,81,99,15,64,39,12,35,37\n" +
                "17,84,74,49,52,28,51,88,34,57,66,19,43,53,48,81,99,15,39,12,35\n" +
                "37,58,87,45,47,55,94,22,35,42,18,26,77\n" +
                "62,97,65,92,49,34,57,43,53,48,81,99,15\n" +
                "28,88,34,57,66,19,43,53,48,61,81,99,15,64,55,12,76,37,14,25,77\n" +
                "34,57,19,43,53,48,61,81,99,15,64,55,39,12,35,76,37,14,25,77,83,56,13\n" +
                "29,92,94,77,24,62,58,42,65,97,84,47,75,22,25,87,83,26,18\n" +
                "74,28,51,34,57,19,43,48,61,81,15,64,55,12,35,76,37\n" +
                "35,12,76,25,42,13,37,26,77,87,39,29,94,56,45,47,14,58,75,22,24,83,62\n" +
                "94,26,97,52,88,34,57,43,81\n" +
                "75,47,87,18,94,26,62,97,65,38,92,17,84,49,52,51,88,34,57,66,19\n" +
                "35,83,81,15,24\n" +
                "29,39,55,64,13,47,12,18,42,87,24,94,14\n" +
                "49,52,28,51,88,34,57,66,19,53,48,61,81,99,15,55,39,12,35,37,14\n" +
                "48,61,81,15,55,39,35,76,37,14,77,56,13,58,24,29,42,45,75\n" +
                "39,35,14,83,24,29,45,87,22,26,62\n" +
                "43,53,61,81,15,55,39,76,25,77,58,29,42\n" +
                "49,81,61,48,55,88,15,12,14,37,51,57,66,34,99,52,64,39,76\n" +
                "97,47,37,87,75,83,77,94,45,56,76,42,25,13,29,22,18,58,14,38,65\n" +
                "53,48,15,12,35,13,58,29,45\n" +
                "42,22,12,47,75,35,18,24,58,45,97,29,13,76,25,26,37,87,94,56,83\n" +
                "49,47,26,74,65,38,19,57,84,92,66,43,87,52,97,94,17,34,18,28,62\n" +
                "55,39,12,35,76,14,77,56,13,29,45,75,47,87,22,18,26\n" +
                "58,97,28,84,18,29,42,92,13,87,47\n" +
                "24,64,76,13,83,15,77,61,56,42,75,12,81,39,45,25,29,37,14,48,58,99,55\n" +
                "92,74,49,28,57,53,81\n" +
                "58,24,29,42,45,75,47,87,22,18,94,26,62,97,65,38,92,17,84,49,52,28,51\n" +
                "74,43,84,28,19,87,62,38,94,88,18,66,47,34,65\n" +
                "34,66,61,15,55,35,25,77,83\n" +
                "29,42,45,47,22,65,38,92,49,28,51,88,34\n" +
                "13,24,29,42,45,75,47,87,94,65,74,49,28\n" +
                "37,25,77,83,56,42,45,47,62,38,92\n" +
                "77,56,24,42,45,75,26,62,97,17,74\n" +
                "57,66,19,43,53,48,61,81,99,15,55,39,12,35,37,25,56\n" +
                "48,35,76,64,77,37,43,39,61,15,99\n" +
                "83,56,58,24,42,45,87,22,94,97,65,92,84,74,49\n" +
                "77,64,14,22,37,29,39,13,24,76,83,99,35\n" +
                "58,66,99,15,43,25,64,76,12,61,19,35,13,14,39\n" +
                "37,14,58,42,47,87,22,65,92\n" +
                "55,61,42,75,81,15,58,64,83,13,25,14,48,56,24,29,39,77,45,99,12\n" +
                "92,43,65,52,66,61,74,81,84,62,15,53,97,28,19,57,88,34,17,51,49\n" +
                "26,62,97,65,38,92,17,84,74,49,52,28,51,34,57,66,19,43,53,48,61,81,99\n" +
                "47,87,22,18,94,62,65,92,74,49,52,28,88,57,43\n" +
                "92,52,94,81,57,49,97\n" +
                "25,77,83,56,13,58,29,42,45,75,87,22,94,26,62,97,65,17,84\n" +
                "84,94,97,45,47,66,92,26,49,88,57\n" +
                "47,42,94,24,12,87,37,64,35\n" +
                "38,87,51,97,65,94,52,26,66,57,49,18,75,92,62,17,88,84,47,34,74,45,22\n" +
                "26,97,84,88,66,61,99\n" +
                "66,43,62,65,87,94,17,57,49,97,19,52,47\n" +
                "28,84,65,66,74,38,55,99,64\n" +
                "14,77,83,13,29,42,45,75,47,22,26,62,65\n" +
                "62,65,38,92,52,88,15\n" +
                "84,88,66,19,61,81,12\n" +
                "14,55,76,48,88,43,49,28,57,37,15,53,66,19,39,52,64,81,51\n" +
                "87,22,18,94,26,62,97,65,38,92,17,84,74,49,52,28,51,88,34,19,53\n" +
                "28,42,38,87,22,45,97,34,92,51,17,26,47,29,94,18,49,52,74,75,65,84,62\n" +
                "97,17,18,26,45,13,22,29,94,25,38,87,42,56,47,14,62,24,58\n" +
                "17,84,74,52,28,88,34,57,66,19,43,99,64,55,35\n" +
                "48,99,15,64,39,12,37,14,83,56,13,24,42,45,75\n" +
                "14,25,77,83,56,13,58,24,29,42,45,75,47,22,18,94,26,62,97,65,38,92,17\n" +
                "55,25,15,35,58,24,19,77,39,66,12,13,37,53,56,81,76,14,43,61,48,83,64\n" +
                "14,19,83,48,76,24,13,61,29,15,25,37,12,99,81\n" +
                "88,34,99,64,35,83,56\n" +
                "22,94,26,62,97,65,92,17,84,74,28,88,34,57,66,19,48\n" +
                "43,83,53,25,51,57,37\n" +
                "99,77,64,28,37,12,15,43,25\n" +
                "84,52,51,34,19,43,48,61,99,15,64,55,39,35,76\n" +
                "56,24,38,75,62,29,74,26,47,17,94,97,45,87,52,49,42,84,13\n" +
                "13,58,24,29,42,87,94,26,65,74,28\n" +
                "97,65,38,92,17,84,74,49,52,28,51,88,34,57,66,19,53,48,61,81,99,15,64\n" +
                "42,94,56,76,25,58,37,45,14,18,12,22,87,47,24,75,26,97,13\n" +
                "26,49,28,57,22,45,87,66,18,92,65\n" +
                "42,18,92,17,84,34,57\n" +
                "52,28,51,88,34,57,66,19,43,53,48,61,81,99,15,55,39,12,35,76,37,14,25\n" +
                "47,38,92,17,84,74,49,88,34,66,43\n" +
                "76,53,15,19,51,37,66,83,35,48,61,88,55,77,81\n" +
                "87,94,97,65,38,92,84,49,52,28,51,88,66,43,53\n" +
                "19,52,99,49,66,34,53,81,61,64,57,74,12,55,43,39,15,92,17,88,28\n" +
                "55,39,12,35,14,13,42,45,75\n" +
                "29,84,24,75,18,38,47,22,87,28,42,49,74,51,17,65,88,26,62,45,97,92,52\n" +
                "87,58,49,42,75,84,52\n" +
                "53,48,61,81,99,15,64,55,39,12,35,76,37,25,77,56,13,58,24,42,45\n" +
                "52,57,66,48,61,37,25\n" +
                "55,12,35,37,14,25,77,13,58,29,42,45,75,47,87,22,18\n" +
                "81,15,64,39,12,76,25,77,83,56,13,24,42,45,75,47,87\n" +
                "18,38,17,84,49,52,34,19,43,48,61\n" +
                "88,52,66,97,74,17,92,94,65,45,75,84,87,51,47\n" +
                "19,53,48,99,55,12,76,14,25,77,83,56,13,58,29\n" +
                "13,24,29,45,87,94,26,62,65,84,74,49,28\n" +
                "77,55,75,26,42,37,29\n" +
                "37,56,42,45,47,13,35,55,22,83,75,64,58,76,15,14,18\n" +
                "66,97,26,65,57,92,88,62,18,51,74,94,38,48,53,19,49,52,34\n" +
                "56,26,18,92,49,38,83,13,47,97,94\n" +
                "49,52,88,19,43,81,99,15,12,35,76,37,14\n" +
                "37,83,35,24,13,43,12,99,77,66,64,14,55,39,48,58,76\n" +
                "17,26,51,22,38,42,57,74,84,92,34\n" +
                "29,42,45,75,47,87,18,26,62,97,38,17,74,52,34\n" +
                "19,43,53,48,61,81,64,55,12,35,76,14,25,77,83,58,24\n" +
                "99,28,15,14,12,55,37,49,51\n" +
                "28,12,53,81,43,74,76,57,55,64,35,52,37,34,99,49,51,88,66,48,19,39,61\n" +
                "18,94,26,62,65,92,17,84,74,52,51,88,34,57,53,48,61\n" +
                "39,12,35,76,37,14,25,77,83,56,13,24,29,42,45,75,47,87,22,18,94,26,62\n" +
                "25,77,83,56,13,58,24,29,42,45,75,47,22,18,94,26,62,97,65,38,92,17,84\n" +
                "57,66,19,43,48,61,81,99,15,64,55,39,35,76,37,25,83,56,58\n" +
                "53,55,57,81,28,48,74,39,17,38,52,61,66,15,84,51,92\n" +
                "22,77,12,42,39,14,45,37,29,94,18,83,55,75,47,24,35,76,56,13,58,26,25\n" +
                "58,25,22,42,26,14,62,29,18,56,83\n" +
                "34,76,37,25,83,56,13\n" +
                "77,56,24,42,45,22,18,26,62,97,38,92,17,84,74\n" +
                "29,87,94,26,65,17,84,74,49,52,28,88,34\n" +
                "15,64,55,39,12,35,14,25,77,24,29,42,45,75,47,87,18\n" +
                "47,65,43,94,74,38,62\n" +
                "22,18,94,26,62,97,92,17,84,52,28,88,34,66,43,53,48\n" +
                "28,51,57,66,43,53,99,64,55,12,76,37,25\n" +
                "24,83,58,35,14,45,64,75,15,29,25,76,81,55,42,39,77,13,61,47,56\n" +
                "26,62,97,65,38,92,17,84,74,49,52,28,88,34,57,66,19,43,53,48,61,81,99\n" +
                "81,15,12,35,14,25,56,13,58,75,87\n" +
                "37,14,25,77,83,56,13,58,29,42,45,75,87,22,94,26,62,97,65,38,92\n" +
                "64,55,37,58,45,22,94\n" +
                "38,92,17,84,74,49,52,28,51,88,34,57,19,43,53,48,61,81,99,15,64,55,39\n" +
                "15,64,55,39,12,35,76,37,14,25,77,83,56,58,24,29,42,45,75,47,87,22,18\n" +
                "14,25,77,83,56,58,24,29,42,45,75,47,87,22,18,94,26,97,65,92,17\n" +
                "65,26,38,62,24,29,94,45,84,17,51,42,52,87,28\n" +
                "56,13,29,42,45,87,22,18,26,62,97,65,92,84,74,49,52\n" +
                "97,65,38,92,17,84,74,52,28,51,88,34,57,66,19,43,53,48,61,81,99,15,64\n" +
                "22,62,97,17,74,49,28,51,43,53,48\n" +
                "35,99,25,12,76,53,64,48,15,19,52,57,61,43,51,81,14,88,66,37,55,34,28\n" +
                "22,18,94,26,62,97,65,38,17,84,74,49,52,28,51,88,34,57,66,19,43,53,48\n" +
                "74,94,97,47,65,29,49,87,18,13,24,52,84,58,22,56,75,42,17,62,38\n" +
                "65,92,17,74,49,52,28,34,57,66,43,48,61,81,99,64,55";

        ArrayList<String> nums = new ArrayList<>(Arrays.stream(input.split("\n")).toList());

        int total = 0;
        int total2 = 0;
        for (var l : nums){
            ArrayList<Integer> pages = new ArrayList<Integer>(Arrays.stream(l.split(",")).map(Integer::parseInt).toList());
            boolean valid = true;
            boolean swapped = true;
            while(swapped) {
                swapped = false;
                for (int i = 0; i < pages.size(); i++) {
                    if (orders.containsKey(pages.get(i))) {
                        for (int o : orders.get(pages.get(i))) {
                            if (pages.contains(o)) {
                                int index = pages.indexOf(o);
                                if (i > index) {
                                    Collections.swap(pages, index, i);
                                    swapped = true;
                                    valid = false;
                                }
                            }
                        }
                    }
                }
            }
            if (valid) {
                total += pages.get(pages.size() / 2 );
            } else {
                total2 += pages.get(pages.size() / 2 );
            }
        }
        System.out.println(total);
        System.out.println(total2);
    }
}
